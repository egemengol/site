{% extends "base.html" %}

{% block stylesheet %}/blog.css{% endblock stylesheet %}

{% block title %}{{ page.title }}{% endblock title %}

{% block content %}
<article class="blog-post">
    <header class="post-header">
        <h1 class="post-title">{{ page.title }}</h1>

        <div class="post-meta">
            <div class="post-date">
                <span class="material-symbols-outlined">calendar_today</span>
                {{ page.date | date(format="%B %d, %Y") }}
            </div>

            {% if page.taxonomies and page.taxonomies.series %}
            <div class="post-series">
                <span class="material-symbols-outlined">bookmarks</span>
                Series:
                {% for series in page.taxonomies.series %}
                <a href="{{ get_taxonomy_url(kind="series", name=series) }}">{{ series }}</a>
                {% endfor %}
            </div>
            {% endif %}

            {% if page.word_count %}
            <div class="reading-time">
                <span class="material-symbols-outlined">schedule</span>
                {{ page.word_count / 200 + 1 }} min read
            </div>
            {% endif %}
        </div>

        {% if page.taxonomies and page.taxonomies.tags %}
        <div class="post-tags">
            {% for tag in page.taxonomies.tags %}
            <a href="{{ get_taxonomy_url(kind="tags", name=tag) }}" class="tag">{{ tag }}</a>
            {% endfor %}
        </div>
        {% endif %}
    </header>

    <div class="post-content">
        {{ page.content | safe }}
    </div>

    {% if page.taxonomies and page.taxonomies.series %}
        {% for series_name in page.taxonomies.series %}
            <div class="series-navigation">
                <h3>Part of the "{{ series_name }}" series</h3>
                <p>Visit the <a href="{{ get_taxonomy_url(kind="series", name=series_name) }}">series page</a> to see all posts.</p>
            </div>
        {% endfor %}
    {% endif %}

    <div class="post-navigation">
        {% if page.earlier %}
            <a href="{{ page.earlier.permalink }}" class="nav-link prev">
                <span class="nav-label">Previous Post</span>
                <span class="nav-title">{{ page.earlier.title }}</span>
            </a>
        {% else %}
            <div class="nav-placeholder"></div>
        {% endif %}

        {% if page.later %}
            <a href="{{ page.later.permalink }}" class="nav-link next">
                <span class="nav-label">Next Post</span>
                <span class="nav-title">{{ page.later.title }}</span>
            </a>
        {% else %}
            <div class="nav-placeholder"></div>
        {% endif %}
    </div>
</article>
{% endblock content %}